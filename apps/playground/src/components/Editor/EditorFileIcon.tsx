import React from 'react';

import { extractInputFileExtension } from '@opendatacapture/instrument-bundler';
import { FileIcon } from 'lucide-react';
import { P, match } from 'ts-pattern';

// icons from https://github.com/PKief/vscode-material-icon-theme

export type EditorFileIconProps = {
  filename: string;
};

export const EditorFileIcon = ({ filename }: EditorFileIconProps) => {
  return (
    <div className="h-auto w-4 fill-sky-700">
      {match(extractInputFileExtension(filename))
        .with('.css', () => (
          <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <polygon
              points="29.18 4 25.61 22.36 25.28 24 20.54 25.57 17.26 26.66 13.21 28 2.87 24.05 4.05 18 8.25 18 7.81 20.85 14.15 23.27 14.93 23.01 21.45 20.85 21.62 20.02 22.41 16 4.44 16 5.18 12.24 5.23 12 23.19 12 23.97 8 6 8 6.78 4 29.18 4"
              style={{ fill: '#42a5f5' }}
            />
          </svg>
        ))
        .with('.js', () => (
          <svg height="16" version="1.1" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
            <path
              d="m2 2h12v12h-12v-12m3.1533 10.027c0.26667 0.56667 0.79333 1.0333 1.6933 1.0333 1 0 1.6867-0.53333 1.6867-1.7v-3.8533h-1.1333v3.8267c0 0.57333-0.23333 0.72-0.6 0.72-0.38667 0-0.54667-0.26667-0.72667-0.58l-0.92 0.55333m3.9867-0.12c0.33333 0.65333 1.0067 1.1533 2.06 1.1533 1.0667 0 1.8667-0.55333 1.8667-1.5733 0-0.94-0.54-1.36-1.5-1.7733l-0.28-0.12c-0.48667-0.20667-0.69333-0.34667-0.69333-0.68 0-0.27333 0.20667-0.48667 0.54-0.48667 0.32 0 0.53333 0.14 0.72667 0.48667l0.87333-0.58c-0.36667-0.64-0.88667-0.88667-1.6-0.88667-1.0067 0-1.6533 0.64-1.6533 1.4867 0 0.92 0.54 1.3533 1.3533 1.7l0.28 0.12c0.52 0.22667 0.82667 0.36667 0.82667 0.75333 0 0.32-0.3 0.55333-0.76667 0.55333-0.55333 0-0.87333-0.28667-1.1133-0.68667z"
              fill="#ffca28"
              strokeWidth=".66667"
            />
          </svg>
        ))
        .with('.jsx', () => (
          <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <g>
              <path
                d="M16,12c7.44405,0,12,2.58981,12,4s-4.55595,4-12,4S4,17.41019,4,16,8.556,12,16,12m0-2C8.268,10,2,12.68629,2,16s6.268,6,14,6,14-2.68629,14-6-6.268-6-14-6Z"
                style={{ fill: '#00bcd4' }}
              />
              <path d="M16,14a2,2,0,1,0,2,2,2,2,0,0,0-2-2Z" style={{ fill: '#00bcd4' }} />
              <path
                d="M10.45764,5.50706C12.47472,5.50746,16.395,8.68416,19.4641,14,23.18613,20.44672,23.22125,25.68721,22,26.3923a.90009.90009,0,0,1-.45691.10064c-2.01725,0-5.93792-3.17678-9.00721-8.49294C8.81387,11.55328,8.77875,6.31279,10,5.6077a.90278.90278,0,0,1,.45766-.10064m-.00076-2A2.87113,2.87113,0,0,0,9,3.87564C6.13025,5.5325,6.93785,12.30391,10.80385,19c3.28459,5.68906,7.71948,9.49292,10.73927,9.49292A2.87033,2.87033,0,0,0,23,28.12436C25.86975,26.4675,25.06215,19.69609,21.19615,13c-3.28459-5.68906-7.71948-9.49342-10.73927-9.49292Z"
                style={{ fill: '#00bcd4' }}
              />
              <path
                d="M21.54311,5.50706A.9.9,0,0,1,22,5.6077c1.22125.70509,1.18613,5.94558-2.5359,12.3923-3.06929,5.31616-6.99,8.49294-9.00721,8.49294A.9.9,0,0,1,10,26.3923C8.77875,25.68721,8.81387,20.44672,12.5359,14c3.06929-5.31616,6.99-8.49294,9.00721-8.49294m0-2c-3.01979,0-7.45468,3.80386-10.73927,9.49292C6.93785,19.69609,6.13025,26.4675,9,28.12436a2.87033,2.87033,0,0,0,1.45688.36856c3.01979,0,7.45468-3.80386,10.73927-9.49292C25.06215,12.30391,25.86975,5.5325,23,3.87564a2.87033,2.87033,0,0,0-1.45688-.36856Z"
                style={{ fill: '#00bcd4' }}
              />
            </g>
          </svg>
        ))
        .with('.ts', () => (
          <svg height="16" version="1.1" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
            <path
              d="m2 2h12v12h-12v-12m7.14 9.9067c0.33333 0.65333 1.0067 1.1533 2.06 1.1533 1.0667 0 1.8667-0.55333 1.8667-1.5733 0-0.94-0.54-1.36-1.5-1.7733l-0.28-0.12c-0.48667-0.20667-0.69333-0.34667-0.69333-0.68 0-0.27333 0.20667-0.48667 0.54-0.48667 0.32 0 0.53333 0.14 0.72667 0.48667l0.87333-0.58c-0.36667-0.64-0.88667-0.88667-1.6-0.88667-1.0067 0-1.6533 0.64-1.6533 1.4867 0 0.92 0.54 1.3533 1.3533 1.7l0.28 0.12c0.52 0.22667 0.82667 0.36667 0.82667 0.75333 0 0.32-0.3 0.55333-0.76667 0.55333-0.55333 0-0.87333-0.28667-1.1133-0.68667l-0.92 0.53333m-0.47333-4.4067h-3.3333v1h1v4.8333h1.1667v-4.8333h1.1667z"
              fill="#0288d1"
              strokeWidth=".66667"
            />
          </svg>
        ))
        .with('.tsx', () => (
          <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <g>
              <path
                d="M16,12c7.44405,0,12,2.58981,12,4s-4.55595,4-12,4S4,17.41019,4,16,8.556,12,16,12m0-2C8.268,10,2,12.68629,2,16s6.268,6,14,6,14-2.68629,14-6-6.268-6-14-6Z"
                style={{ fill: '#0288d1' }}
              />
              <path d="M16,14a2,2,0,1,0,2,2,2,2,0,0,0-2-2Z" style={{ fill: '#0288d1' }} />
              <path
                d="M10.45764,5.50706C12.47472,5.50746,16.395,8.68416,19.4641,14,23.18613,20.44672,23.22125,25.68721,22,26.3923a.90009.90009,0,0,1-.45691.10064c-2.01725,0-5.93792-3.17678-9.00721-8.49294C8.81387,11.55328,8.77875,6.31279,10,5.6077a.90278.90278,0,0,1,.45766-.10064m-.00076-2A2.87113,2.87113,0,0,0,9,3.87564C6.13025,5.5325,6.93785,12.30391,10.80385,19c3.28459,5.68906,7.71948,9.49292,10.73927,9.49292A2.87033,2.87033,0,0,0,23,28.12436C25.86975,26.4675,25.06215,19.69609,21.19615,13c-3.28459-5.68906-7.71948-9.49342-10.73927-9.49292Z"
                style={{ fill: '#0288d1' }}
              />
              <path
                d="M21.54311,5.50706A.9.9,0,0,1,22,5.6077c1.22125.70509,1.18613,5.94558-2.5359,12.3923-3.06929,5.31616-6.99,8.49294-9.00721,8.49294A.9.9,0,0,1,10,26.3923C8.77875,25.68721,8.81387,20.44672,12.5359,14c3.06929-5.31616,6.99-8.49294,9.00721-8.49294m0-2c-3.01979,0-7.45468,3.80386-10.73927,9.49292C6.93785,19.69609,6.13025,26.4675,9,28.12436a2.87033,2.87033,0,0,0,1.45688.36856c3.01979,0,7.45468-3.80386,10.73927-9.49292C25.06215,12.30391,25.86975,5.5325,23,3.87564a2.87033,2.87033,0,0,0-1.45688-.36856Z"
                style={{ fill: '#0288d1' }}
              />
            </g>
          </svg>
        ))
        .with('.svg', () => (
          <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M29.1684,14.03021A2.68749,2.68749,0,0,0,27.2,13.19861a2.51031,2.51031,0,0,0-1.929.8H20.82837l3.07776-3.07776a2.83475,2.83475,0,0,0,2.857-2.842,2.5931,2.5931,0,0,0-.8316-1.96839A2.823,2.823,0,0,0,23.9184,5.3222,2.67072,2.67072,0,0,0,21.95,6.11041a2.35451,2.35451,0,0,0-.81231,1.922L18,11.1701v-4.444a2.51058,2.51058,0,0,0,.8-1.929,2.69343,2.69343,0,0,0-.83161-1.96838,2.74533,2.74533,0,0,0-3.93676,0A2.68742,2.68742,0,0,0,13.2,4.79718a2.51058,2.51058,0,0,0,.8,1.929v4.444L10.8623,8.03241a2.35451,2.35451,0,0,0-.81231-1.922A2.66055,2.66055,0,0,0,8.0816,5.3222a2.828,2.828,0,0,0-2.01318.78821,2.59708,2.59708,0,0,0-.8316,1.96839,2.7419,2.7419,0,0,0,.8316,2.01318,2.78857,2.78857,0,0,0,2.02545.82886l3.07776,3.07776H6.72894a2.51031,2.51031,0,0,0-1.92895-.8,2.69359,2.69359,0,0,0-1.96839.8316,2.74537,2.74537,0,0,0,0,3.93677A2.68772,2.68772,0,0,0,4.8,18.79858a2.51043,2.51043,0,0,0,1.92895-.8h4.44263L8.09381,21.07635a2.83475,2.83475,0,0,0-2.857,2.842,2.5931,2.5931,0,0,0,.8316,1.96838A2.82327,2.82327,0,0,0,8.0816,26.675,2.671,2.671,0,0,0,10.05,25.88678a2.35452,2.35452,0,0,0,.81231-1.92206L14,20.827v4.444a2.51058,2.51058,0,0,0-.8,1.929,2.78381,2.78381,0,0,0,4.76837,1.96839A2.68746,2.68746,0,0,0,18.8,27.2a2.51058,2.51058,0,0,0-.8-1.929V20.827l3.1377,3.13769A2.35452,2.35452,0,0,0,21.95,25.88678a2.66079,2.66079,0,0,0,1.96839.78821,2.82794,2.82794,0,0,0,2.01318-.78821,2.59706,2.59706,0,0,0,.8316-1.96838,2.74192,2.74192,0,0,0-.8316-2.01319,2.78847,2.78847,0,0,0-2.02539-.82886L20.82843,17.9986h4.44263a2.51043,2.51043,0,0,0,1.929.8,2.78381,2.78381,0,0,0,1.96839-4.76837Z"
              style={{ fill: '#ffb300' }}
            />
          </svg>
        ))
        .with(P.union('.jpeg', '.jpg', '.png', '.webp'), () => (
          <svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path
              d="m13 9h5.5l-5.5-5.5v5.5m-7-7h8l6 6v12a2 2 0 0 1-2 2h-12c-1.11 0-2-0.9-2-2v-16c0-1.11 0.89-2 2-2m0 18h9 3v-8l-4 4-2-2-6 6m2-11a2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2z"
              fill="#26a69f"
            />
          </svg>
        ))
        .otherwise(() => (
          <FileIcon />
        ))}
    </div>
  );
};
